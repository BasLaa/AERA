;demonstrates deep pattern-matching, i.e.
;specifying the skeleton of a pattern at
;arbitrary levels of structure embedding.

dummy:(ent 1)
[]
   [now 1 forever root nil]

(mk.val self position (vec3 1 1 1) 1)
[]
   [now 1 forever root nil]

_start:(pgm
|[]
[]
   []
      (ptn (mk.val self position v:(vec3 x: ::) ::) |[])
   |[]
   |[]
[]
   (inj []
      (mk.val dummy position (vec3 x v.x 0) 1)
      [now 1 forever root nil]
   )
0us
1
1
)
|[]

i_start:(ipgm _start |[] 1)
[]
   [now 1 1 root nil 1]
